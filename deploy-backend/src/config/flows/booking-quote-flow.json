{
  "version": "5.0",
  "data_api_version": "3.0",
  "routing_model": {
    "DATES_SCREEN": [
      "GUESTS_SCREEN"
    ],
    "GUESTS_SCREEN": [
      "CONFIRMATION_SCREEN"
    ]
  },
  "screens": [
    {
      "id": "DATES_SCREEN",
      "title": "Selecione as datas",
      "data": {},
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "Datas da Reserva"
          },
          {
            "type": "TextBody",
            "text": "Selecione as datas de check-in e check-out para sua estadia."
          },
          {
            "type": "DatePicker",
            "name": "check_in_date",
            "label": "Data de Check-in",
            "required": true,
            "min-date": "${form.tomorrow}",
            "helper-text": "Data mínima: amanhã"
          },
          {
            "type": "DatePicker",
            "name": "check_out_date",
            "label": "Data de Check-out",
            "required": true,
            "min-date": "${form.check_in_date_plus_one}",
            "helper-text": "Data mínima: 1 dia após check-in"
          },
          {
            "type": "Footer",
            "label": "Próximo",
            "on-click-action": {
              "name": "navigate",
              "next": {
                "type": "screen",
                "name": "GUESTS_SCREEN"
              },
              "payload": {}
            }
          }
        ]
      }
    },
    {
      "id": "GUESTS_SCREEN",
      "title": "Informações dos Hóspedes",
      "data": {},
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "Quantos Hóspedes?"
          },
          {
            "type": "TextBody",
            "text": "Informe o número de hóspedes e se há crianças."
          },
          {
            "type": "Dropdown",
            "name": "num_guests",
            "label": "Quantidade de hóspedes",
            "required": true,
            "data-source": [
              {
                "id": "1",
                "title": "1 hóspede"
              },
              {
                "id": "2",
                "title": "2 hóspedes"
              },
              {
                "id": "3",
                "title": "3 hóspedes"
              },
              {
                "id": "4",
                "title": "4 hóspedes"
              },
              {
                "id": "5",
                "title": "5 hóspedes"
              },
              {
                "id": "6",
                "title": "6 hóspedes"
              },
              {
                "id": "7",
                "title": "7 hóspedes"
              },
              {
                "id": "8",
                "title": "8 hóspedes"
              },
              {
                "id": "9",
                "title": "9 hóspedes"
              },
              {
                "id": "10",
                "title": "10 hóspedes"
              }
            ]
          },
          {
            "type": "RadioButtonsGroup",
            "name": "has_children",
            "label": "Tem crianças?",
            "required": true,
            "data-source": [
              {
                "id": "yes",
                "title": "Sim"
              },
              {
                "id": "no",
                "title": "Não"
              }
            ]
          },
          {
            "type": "Dropdown",
            "name": "child_age_1",
            "label": "Idade da criança 1",
            "required": false,
            "visible": "${form.has_children == 'yes'}",
            "data-source": [
              {"id": "0", "title": "0 anos"},
              {"id": "1", "title": "1 ano"},
              {"id": "2", "title": "2 anos"},
              {"id": "3", "title": "3 anos"},
              {"id": "4", "title": "4 anos"},
              {"id": "5", "title": "5 anos"},
              {"id": "6", "title": "6 anos"},
              {"id": "7", "title": "7 anos"},
              {"id": "8", "title": "8 anos"},
              {"id": "9", "title": "9 anos"},
              {"id": "10", "title": "10 anos"},
              {"id": "11", "title": "11 anos"},
              {"id": "12", "title": "12 anos"},
              {"id": "13", "title": "13 anos"},
              {"id": "14", "title": "14 anos"},
              {"id": "15", "title": "15 anos"},
              {"id": "16", "title": "16 anos"},
              {"id": "17", "title": "17 anos"}
            ]
          },
          {
            "type": "Dropdown",
            "name": "child_age_2",
            "label": "Idade da criança 2 (opcional)",
            "required": false,
            "visible": "${form.has_children == 'yes'}",
            "data-source": [
              {"id": "0", "title": "0 anos"},
              {"id": "1", "title": "1 ano"},
              {"id": "2", "title": "2 anos"},
              {"id": "3", "title": "3 anos"},
              {"id": "4", "title": "4 anos"},
              {"id": "5", "title": "5 anos"},
              {"id": "6", "title": "6 anos"},
              {"id": "7", "title": "7 anos"},
              {"id": "8", "title": "8 anos"},
              {"id": "9", "title": "9 anos"},
              {"id": "10", "title": "10 anos"},
              {"id": "11", "title": "11 anos"},
              {"id": "12", "title": "12 anos"},
              {"id": "13", "title": "13 anos"},
              {"id": "14", "title": "14 anos"},
              {"id": "15", "title": "15 anos"},
              {"id": "16", "title": "16 anos"},
              {"id": "17", "title": "17 anos"}
            ]
          },
          {
            "type": "Dropdown",
            "name": "child_age_3",
            "label": "Idade da criança 3 (opcional)",
            "required": false,
            "visible": "${form.has_children == 'yes'}",
            "data-source": [
              {"id": "0", "title": "0 anos"},
              {"id": "1", "title": "1 ano"},
              {"id": "2", "title": "2 anos"},
              {"id": "3", "title": "3 anos"},
              {"id": "4", "title": "4 anos"},
              {"id": "5", "title": "5 anos"},
              {"id": "6", "title": "6 anos"},
              {"id": "7", "title": "7 anos"},
              {"id": "8", "title": "8 anos"},
              {"id": "9", "title": "9 anos"},
              {"id": "10", "title": "10 anos"},
              {"id": "11", "title": "11 anos"},
              {"id": "12", "title": "12 anos"},
              {"id": "13", "title": "13 anos"},
              {"id": "14", "title": "14 anos"},
              {"id": "15", "title": "15 anos"},
              {"id": "16", "title": "16 anos"},
              {"id": "17", "title": "17 anos"}
            ]
          },
          {
            "type": "Footer",
            "label": "Voltar",
            "on-click-action": {
              "name": "navigate",
              "next": {
                "type": "screen",
                "name": "DATES_SCREEN"
              },
              "payload": {}
            }
          },
          {
            "type": "Footer",
            "label": "Continuar",
            "on-click-action": {
              "name": "navigate",
              "next": {
                "type": "screen",
                "name": "CONFIRMATION_SCREEN"
              },
              "payload": {}
            }
          }
        ]
      }
    },
    {
      "id": "CONFIRMATION_SCREEN",
      "title": "Confirmar Solicitação",
      "data": {},
      "layout": {
        "type": "SingleColumnLayout",
        "children": [
          {
            "type": "TextHeading",
            "text": "Resumo da Solicitação"
          },
          {
            "type": "TextBody",
            "text": "Confira os dados da sua solicitação de orçamento:"
          },
          {
            "type": "TextCaption",
            "text": "Check-in: ${form.check_in_date}"
          },
          {
            "type": "TextCaption",
            "text": "Check-out: ${form.check_out_date}"
          },
          {
            "type": "TextCaption",
            "text": "Hóspedes: ${form.num_guests}"
          },
          {
            "type": "TextCaption",
            "text": "Crianças: ${form.has_children == 'yes' ? 'Sim' : 'Não'}"
          },
          {
            "type": "TextBody",
            "text": "Ao confirmar, você receberá as opções de quartos disponíveis com os valores."
          },
          {
            "type": "Footer",
            "label": "Voltar",
            "on-click-action": {
              "name": "navigate",
              "next": {
                "type": "screen",
                "name": "GUESTS_SCREEN"
              },
              "payload": {}
            }
          },
          {
            "type": "Footer",
            "label": "Confirmar",
            "on-click-action": {
              "name": "complete",
              "payload": {
                "check_in_date": "${form.check_in_date}",
                "check_out_date": "${form.check_out_date}",
                "num_guests": "${form.num_guests}",
                "has_children": "${form.has_children}",
                "child_age_1": "${form.child_age_1}",
                "child_age_2": "${form.child_age_2}",
                "child_age_3": "${form.child_age_3}"
              }
            }
          }
        ]
      }
    }
  ]
}
